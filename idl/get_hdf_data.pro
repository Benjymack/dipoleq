pro get_hdf_data,filename,dname,data,d1,d2,d3,$			labels=labels,units=units,plot=plot,range=range	if not keyword_set(filename) then filename=dialog_pickfile(filt="*.hdf")	if (not hdf_ishdf(filename)) then begin		print,"Bad HDF file"		return	endif	range1=0	range=0	sd_id = HDF_SD_START(filename, /READ)	hdf_sd_fileinfo, sd_id, nsds, natt	index = hdf_sd_nametoindex(sd_id,dname)	sds_id = hdf_sd_select(sd_id,index)	HDF_SD_GETINFO, sds_id, LABEL=l, UNIT=u, $                NDIMS=ndims, DIMS=dims, RANGE=range1    if keyword_set(range1) then range=range1	HDF_SD_GETDATA, SDS_ID, Data	nd = min([3,ndims])	labels = strarr(nd+1)	units = strarr(nd+1)	labels[0]=l	units[0]=u	if (nd ge 1) then begin		hdf_sd_dimget,HDF_SD_DIMGETID(SDS_ID, 0), $		label=dl,unit=du,scale=d1		labels[1]=dl & units[1]=du	endif	if (nd ge 2) then begin		hdf_sd_dimget,HDF_SD_DIMGETID(SDS_ID, 1), $		label=dl,unit=du,scale=d2 & labels[2]=dl & units[2]=du	endif	if (nd ge 3) then  begin		hdf_sd_dimget,HDF_SD_DIMGETID(SDS_ID, 2), $		label=dl,unit=du,scale=d3 & labels[3]=dl & units[3]=du	endif					hdf_sd_endaccess,sds_id	hdf_sd_end,sd_id		if keyword_set(plot) then begin		if ndims eq 1 then begin			plot,d1,data,title=labels[0],$			ytitle=labels[0]+" ("+units[0]+")",$			xtitle=labels[1]+" ("+units[1]+")"		endif		if ndims eq 2 then begin			if keyword_set(range) then begin				levels = findgen(31)/30.*(range[1]-range[0])+range[0]			endif else begin				levels = findgen(31)/30.*(max(data)-min(data))+min(data)			endelse			contour,data,d1,d2,title=labels[0],levels=levels,$			xtitle=labels[1]+" ("+units[1]+")",$			ytitle=labels[2]+" ("+units[2]+")"		endif	endifend	